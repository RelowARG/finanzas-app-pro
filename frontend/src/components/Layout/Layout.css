/* Ruta: finanzas-app-pro/frontend/src/components/Layout/Layout.css */
/* ARCHIVO MODIFICADO PARA AJUSTAR MAIN CONTENT AL SIDEBAR COLAPSABLE */

.app-layout {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

.navbar {
  height: 60px;
  position: sticky;
  top: 0;
  z-index: 1030;
}

.content-wrapper {
  display: flex;
  flex-grow: 1;
}

/* Cuando hay sidebar, el contenido principal necesita un margen a la izquierda */
.content-wrapper.with-sidebar .main-content {
  /* Default margin for collapsed sidebar */
  margin-left: 70px; /* Collapsed sidebar width */
  padding: 20px;
  width: calc(100% - 70px); /* Ocupa el resto del ancho */
  transition: margin-left 0.3s ease-in-out, width 0.3s ease-in-out;
}

/* Cuando sidebar está hover (expandido), ajustar el margen de main-content */
/* Este selector funciona porque .sidebar y .main-content son hermanos bajo .content-wrapper */
.content-wrapper.with-sidebar .sidebar:hover ~ .main-content {
  margin-left: 240px; /* Expanded sidebar width (desktop) */
  width: calc(100% - 240px);
}

/* Cuando NO hay sidebar (ej. login/register page), el contenido ocupa todo */
.content-wrapper:not(.with-sidebar) .main-content {
  margin-left: 0;
  padding: 20px;
  width: 100%;
}

.main-content {
  flex-grow: 1;
}

.footer {
  text-align: center;
  padding: 15px;
  background-color: var(--dark-color);
  color: rgba(255,255,255,0.7);
  font-size: 0.85rem;
  transition: margin-left 0.3s ease-in-out;
  /* Si el footer debe respetar el ancho del sidebar, se necesitaría un manejo más complejo
     o que el footer esté dentro del mismo flujo que el main-content afectado por el sidebar.
     Con la estructura actual (footer como hermano de content-wrapper),
     este ajuste de margin-left con ~ no funcionará directamente desde .sidebar:hover.
     Para este ejemplo, se asume que el footer es de ancho completo o
     que su ajuste de margen se manejará de otra manera si es necesario.
     Si el sidebar está fijo y llega hasta abajo, el footer necesitaría un margin-left:
  */
  /*
  .content-wrapper.with-sidebar + .footer {
    margin-left: 70px;
  }
  .content-wrapper.with-sidebar .sidebar:hover + ??? .footer { // This is tricky with current structure
    margin-left: 240px;
  }
  */
}


/* Ajustes para pantallas pequeñas */
@media (max-width: 768px) {
  /* Sidebar.css ahora maneja su propio width en hover (70px -> 200px) */
  /* Ajustamos main-content para que coincida con esos estados en tablet */
  .content-wrapper.with-sidebar .main-content {
    margin-left: 70px; /* Collapsed */
    width: calc(100% - 70px);
  }
  .content-wrapper.with-sidebar .sidebar:hover ~ .main-content {
    margin-left: 200px; /* Expanded on tablet hover */
    width: calc(100% - 200px);
  }
}

@media (max-width: 576px) {
  /* En pantallas muy pequeñas, el sidebar se oculta con transform (translateX(-100%))
     y se muestra con una clase .open (manejada por JS, no implementado en esta respuesta).
     Cuando está oculto, el main-content ocupa todo.
     Cuando está .open, el main-content necesitaría un margin-left igual al ancho del sidebar abierto.
  */
  .sidebar {
    /* Originalmente: transform: translateX(-100%); */
    /* Mantenemos el comportamiento de transform de Layout.css para <576px,
       por lo que el hover no será el mecanismo principal aquí; un toggle JS lo sería.
       Si se decide no usar el transform y mantenerlo fijo y colapsado por defecto: */
    /* width: 70px !important; */ /* Forzaría el ancho colapsado */
    transform: translateX(-100%); /* Mantiene la lógica original para móviles */
    transition: transform 0.3s ease-in-out;
    z-index: 1031;
  }
  .sidebar.open { /* Clase que se añadiría con JS para mostrarlo */
      transform: translateX(0);
      width: 200px; /* Ancho del sidebar abierto en móvil */
  }
  .content-wrapper.with-sidebar .main-content {
    margin-left: 0; /* Por defecto, si el sidebar está oculto por transform */
    width: 100%;
  }
  /* Si el sidebar se abre con .open en móvil, main-content debería ajustarse */
  .content-wrapper.with-sidebar .sidebar.open ~ .main-content {
    margin-left: 200px; /* O el ancho que tenga .sidebar.open */
    width: calc(100% - 200px);
  }
}

/* Cuando showChrome es false, para HomePage */
.content-wrapper.full-page-content {
  padding-top: 0 !important;
}

.content-wrapper.full-page-content .main-content.no-padding-main {
  margin-left: 0 !important;
  width: 100% !important;
  padding: 0 !important;
  height: 100vh;
  overflow: hidden;
}