/* Ruta: finanzas-app-pro/frontend/src/components/Layout/Layout.css */

.app-layout {
  display: flex; /* Permite que sidebar-container-area y main-page-wrapper estén lado a lado */
  flex-direction: row; /* Por defecto, pero explícito */
  min-height: 100vh;
  background-color: var(--background-color, #eef0f2); /* Fondo general por si acaso */
}

/* Contenedor del Sidebar (el div que tiene los eventos de hover) */
.sidebar-container-area {
  flex-shrink: 0; /* Evita que este contenedor se encoja */
  position: relative; /* O 'sticky' si el sidebar interno no es 'fixed' */
  z-index: 1025; /* Un z-index alto para el área del sidebar */
  /* El componente Sidebar interno (<aside>) tendrá position:fixed y manejará su propio ancho y transición */
}


/* Wrapper para Navbar, Main Content y Footer */
.main-page-wrapper {
  display: flex;
  flex-direction: column; /* Navbar, main, footer apilados verticalmente */
  flex-grow: 1; /* Ocupa todo el espacio restante */
  width: 100%; 
  overflow-x: hidden; /* Evitar scroll horizontal si algo se desborda */
  /* El padding-left para el sidebar se aplicará a este wrapper,
     afectando a todos sus hijos (Navbar, Main, Footer) de la misma manera. */
  padding-left: 0; /* Por defecto, si no hay sidebar activo */
  transition: padding-left 0.25s ease-in-out; /* Transición para el padding */
  box-sizing: border-box;
}

.navbar.new-style {
  /* Navbar ahora se posiciona dentro del main-page-wrapper, 
     por lo que no necesita 'left' ni 'width' que dependan del sidebar aquí.
     Sus estilos internos (height, background, etc.) están en Navbar.css */
  position: sticky; /* O fixed si quieres que siempre esté visible al hacer scroll el main-page-wrapper */
  top: 0;
  /* width: 100%; Ya lo es por ser un elemento de bloque dentro de un flex-column */
  z-index: 1030; /* Navbar encima del contenido */
  height: 65px; /* Asegurar que tenga altura para el padding-top del main-content */
  flex-shrink: 0; /* Para que no se encoja si el contenido es muy alto */
}

.main-content {
  flex-grow: 1; /* Ocupa el espacio vertical restante */
  padding: 20px; 
  background-color: var(--background-color, #eef0f2); 
  box-sizing: border-box;
  /* El padding-top para la navbar se maneja en el .main-page-wrapper si la navbar es fixed,
     o el main-content lo necesitaría si la navbar no es fixed y está en el flujo.
     Si la navbar es sticky dentro de main-page-wrapper, no se necesita padding-top aquí. */
}

.app-footer.new-look-footer {
  /* Los estilos de apariencia (colores, padding interno) están en Footer.css */
  /* No necesita margin-left, ya que el padding-left del main-page-wrapper lo posicionará */
  box-sizing: border-box; 
  width: 100%; /* Ocupa el ancho de su contenedor (main-page-wrapper) */
  flex-shrink: 0; /* Para que no se encoja si el contenido es muy alto */
}


/* --- LÓGICA DE SIDEBAR ACTIVO Y EXPANDIDO APLICADA AL .main-page-wrapper --- */

/* Cuando el sidebar está activo (presente y colapsado) */
.app-layout.sidebar-active .main-page-wrapper {
  padding-left: 70px; /* Ancho del sidebar colapsado */
}

/* Cuando el sidebar está activo Y expandido */
.app-layout.sidebar-expanded .main-page-wrapper {
  padding-left: 240px; /* Ancho del sidebar expandido */
}


/* Para HomePage o vistas sin chrome (donde no hay .sidebar-active) */
.main-page-wrapper .main-content.no-padding-main { /* Aplicado cuando showChrome es false */
  padding: 0 !important; 
  height: 100vh; 
  overflow: hidden; 
  background-color: transparent; 
}
.app-layout:not(.sidebar-active) .main-page-wrapper { /* Si no hay sidebar (ej. login, o user no logueado en homepage) */
    padding-left: 0px;
}


/* Media queries para ajustar paddings */
@media (max-width: 768px) {
  .app-layout.sidebar-active .main-page-wrapper {
    padding-left: 65px; /* Ancho colapsado móvil */
  }
  .app-layout.sidebar-expanded .main-page-wrapper {
    padding-left: 220px; /* Ancho expandido móvil */
  }
}

/* Lógica para móviles donde el sidebar podría estar completamente oculto/superpuesto */
/* Esta parte dependerá de cómo implementes el toggle del sidebar en móvil */
@media (max-width: 576px) {
  /* Si el sidebar se oculta con transform translateX(-100%) y se muestra con una clase .sidebar-mobile-open en .app-layout */
  /* El sidebar en sí (.sidebar.new-look) ya tiene su propio transform: translateX(-100%) en Sidebar.css para <576px */
  
  .app-layout:not(.sidebar-mobile-open) .main-page-wrapper { /* Asumiendo que sidebar-mobile-open se añade a app-layout */
    padding-left: 0;
  }

  .app-layout.sidebar-mobile-open .main-page-wrapper {
    /* Si el sidebar móvil se superpone (lo cual es común), el wrapper no necesita padding-left */
     padding-left: 0; 
     /* Si el sidebar móvil EMPUJA el contenido, entonces necesitarías un padding-left aquí: */
     /* padding-left: 220px; */ /* O el ancho del sidebar móvil abierto */
  }
}